{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\OneDrive\\\\Desktop\\\\MS USA\\\\IIT Chicago\\\\Build Fellowship Project 1 Real time feature\\\\a-cookbook\\\\client\\\\src\\\\CommunityRecipeItem.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport io from 'socket.io-client';\nimport { Star, StarHalf } from 'lucide-react';\nimport { StarRatingDisplay, StarRatingInput } from './StarRating';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CommunityRecipeItem = ({\n  recipe\n}) => {\n  _s();\n  const [comments, setComments] = useState([]);\n  const [ratings, setRatings] = useState([]);\n  const [averageRating, setAverageRating] = useState(0);\n  const [totalRatings, setTotalRatings] = useState(0);\n  const [showComments, setShowComments] = useState(false);\n  const [newComment, setNewComment] = useState('');\n  const [userRating, setUserRating] = useState(0);\n  const [userId] = useState(localStorage.getItem('userId') || generateUserId());\n  const [username, setUsername] = useState(localStorage.getItem('username') || '');\n  const [showUserPrompt, setShowUserPrompt] = useState(!localStorage.getItem('username'));\n\n  // Using useRef for socket\n  const socketRef = useRef(null);\n  const [isConnected, setIsConnected] = useState(false);\n\n  // Generate a simple user ID if not exists\n  function generateUserId() {\n    const newId = Math.random().toString(36).substring(2, 15);\n    localStorage.setItem('userId', newId);\n    return newId;\n  }\n\n  // Connect to WebSocket when component mounts\n  useEffect(() => {\n    if (showUserPrompt || !username) return;\n\n    // Store username for future sessions\n    localStorage.setItem('username', username);\n\n    // Connect to socket.io server\n    const newSocket = io(window.location.origin, {\n      reconnection: true,\n      reconnectionAttempts: 5,\n      reconnectionDelay: 1000,\n      timeout: 20000\n    });\n\n    // for testing purposes on localhost\n    // const newSocket = io('http://localhost:5000', {\n    //   reconnection: true,\n    //   reconnectionAttempts: 5,\n    //   reconnectionDelay: 1000,\n    //   timeout: 20000\n    // });\n\n    newSocket.on('connect', () => {\n      console.log('Socket connected for recipe community features');\n      setIsConnected(true); // Mark socket as connected\n      // Join the recipe room\n      newSocket.emit('join-recipe', {\n        recipeId: recipe.id,\n        userId,\n        username\n      });\n    });\n    newSocket.on('recipe-data', data => {\n      console.log('Received recipe community data:', data);\n      setComments(data.comments || []);\n      setRatings(data.ratings || []);\n      setAverageRating(data.averageRating || 0);\n      setTotalRatings(data.totalRatings || 0);\n    });\n    newSocket.on('comment-added', newComment => {\n      console.log('New comment received:', newComment);\n      setComments(prevComments => [newComment, ...prevComments]);\n    });\n    newSocket.on('rating-updated', data => {\n      setRatings(prevRatings => [data.rating, ...prevRatings]);\n      setAverageRating(data.averageRating);\n      setTotalRatings(data.totalRatings);\n    });\n    newSocket.on('connect_error', err => {\n      console.error('Socket connection error:', err.message);\n    });\n\n    // Save socket in ref to avoid re-render\n    socketRef.current = newSocket;\n\n    // Clean up on unmount\n    return () => {\n      if (newSocket) {\n        newSocket.disconnect();\n        setIsConnected(false); // Mark socket as disconnected\n      }\n    };\n  }, [recipe.id, userId, username, showUserPrompt]);\n\n  // Handle setting username\n  const handleSetUsername = e => {\n    e.preventDefault();\n    if (username.trim().length > 0) {\n      setShowUserPrompt(false);\n      localStorage.setItem('username', username);\n    }\n  };\n\n  // Handle submitting a comment\n  const handleAddComment = e => {\n    e.preventDefault();\n    if (!newComment.trim()) return;\n\n    // Debugging connection state\n    console.log('Socket connection status:', socketRef.current ? socketRef.current.connected : 'No socket');\n    if (!socketRef.current || !socketRef.current.connected) {\n      console.error('Socket connection not found. Comment not sent.');\n      alert('Socket connection not found. Please try again later.');\n      return;\n    }\n    console.log('Sending comment:', newComment);\n    socketRef.current.emit('add-comment', {\n      recipeId: recipe.id,\n      userId,\n      username,\n      text: newComment,\n      timestamp: new Date().toISOString()\n    });\n    setNewComment('');\n  };\n\n  // Handle submitting a rating\n  const handleAddRating = rating => {\n    if (!socketRef.current || !socketRef.current.connected) return;\n    setUserRating(rating);\n    socketRef.current.emit('add-rating', {\n      recipeId: recipe.id,\n      userId,\n      username,\n      rating,\n      timestamp: new Date().toISOString()\n    });\n  };\n\n  // Format date\n  const formatDate = dateString => {\n    const date = new Date(dateString);\n    return date.toLocaleString();\n  };\n\n  // Render stars based on rating\n  // const renderStars = (rating) => {\n  //   const stars = [];\n  //   const fullStars = Math.floor(rating);\n  //   const hasHalfStar = rating % 1 >= 0.5;\n\n  //   for (let i = 0; i < fullStars; i++) {\n  //     stars.push(\n  //       <Star \n  //         key={`full-${i}`} \n  //         className=\"text-yellow-500\" \n  //         fill=\"#EAB308\" \n  //         size={16}\n  //       />\n  //     );\n  //   }\n\n  //   if (hasHalfStar) {\n  //     stars.push(\n  //       <StarHalf \n  //         key=\"half\" \n  //         className=\"text-yellow-500\" \n  //         fill=\"#EAB308\" \n  //         size={16}\n  //       />\n  //     );\n  //   }\n\n  //   return <div className=\"recipe-stars\">{stars}</div>;\n  // };\n\n  const renderStars = rating => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"recipe-stars\",\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        gap: '2px'\n      },\n      children: [1, 2, 3, 4, 5].map(star => {\n        // Full star\n        if (star <= Math.floor(rating)) {\n          return /*#__PURE__*/_jsxDEV(Star, {\n            size: 16,\n            fill: \"#EAB308\",\n            color: \"#EAB308\",\n            style: {\n              display: 'block',\n              minWidth: '16px'\n            }\n          }, `star-${star}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 15\n          }, this);\n        }\n        // Half star\n        else if (star === Math.ceil(rating) && rating % 1 >= 0.5) {\n          return /*#__PURE__*/_jsxDEV(StarHalf, {\n            size: 16,\n            fill: \"#EAB308\",\n            color: \"#EAB308\",\n            style: {\n              display: 'block',\n              minWidth: '16px'\n            }\n          }, `star-${star}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 15\n          }, this);\n        }\n        // Empty star\n        else {\n          return /*#__PURE__*/_jsxDEV(Star, {\n            size: 16,\n            fill: \"none\",\n            color: \"#cccccc\",\n            style: {\n              display: 'block',\n              minWidth: '16px'\n            }\n          }, `star-${star}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 15\n          }, this);\n        }\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this);\n  };\n\n  // If username prompt is shown\n  if (showUserPrompt) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"username-prompt-recipe\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Join the Community\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Enter your name to rate and comment on recipes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSetUsername,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: username,\n          onChange: e => setUsername(e.target.value),\n          placeholder: \"Your name\",\n          className: \"username-input\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"username-submit-btn\",\n          children: \"Join\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"community-recipe-item\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"recipe-title\",\n      children: recipe.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: recipe.image,\n      alt: recipe.title,\n      className: \"recipe-image\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"recipe-rating-section\",\n      style: {\n        margin: '1rem 0'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"current-rating\",\n        style: {\n          display: 'flex',\n          alignItems: 'center'\n        },\n        children: averageRating > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(StarRatingDisplay, {\n            rating: averageRating,\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"rating-count\",\n            style: {\n              fontSize: '0.8rem',\n              color: '#666',\n              marginLeft: '4px'\n            },\n            children: [\"(\", totalRatings, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"no-ratings\",\n          style: {\n            fontStyle: 'italic',\n            color: '#666',\n            fontSize: '0.9rem'\n          },\n          children: \"No ratings yet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user-rating\",\n        style: {\n          marginTop: '12px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            marginBottom: '8px',\n            fontSize: '0.9rem',\n            color: '#552b5b'\n          },\n          children: \"Rate this recipe:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(StarRatingInput, {\n          value: userRating,\n          onChange: handleAddRating,\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 3\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"recipe-details\",\n      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n        children: [\"Used Ingredients: \", recipe.usedIngredientCount]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [\"Missed Ingredients: \", recipe.missedIngredientCount]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"button-container\",\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: `https://spoonacular.com/recipes/${recipe.title}-${recipe.id}`,\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          className: \"recipe-link\",\n          children: \"View Full Recipe\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"recipe-comments-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"toggle-comments-btn\",\n        onClick: () => setShowComments(!showComments),\n        children: showComments ? 'Hide Comments' : `Show Comments (${comments.length})`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 9\n      }, this), showComments && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comments-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleAddComment,\n          className: \"comment-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: newComment,\n            onChange: e => setNewComment(e.target.value),\n            placeholder: \"Add a comment...\",\n            className: \"comment-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"comment-submit-btn\",\n            disabled: !newComment.trim(),\n            children: \"Post\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"comments-list\",\n          children: comments.length > 0 ? comments.map((comment, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"comment-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"comment-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"comment-author\",\n                children: comment.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"comment-date\",\n                children: formatDate(comment.timestamp)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"comment-text\",\n              children: comment.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 21\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 19\n          }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"no-comments\",\n            children: \"No comments yet. Be the first to comment!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 253,\n    columnNumber: 5\n  }, this);\n};\n_s(CommunityRecipeItem, \"hbgwbDcuCI3wB7SNArO191jFykk=\");\n_c = CommunityRecipeItem;\nexport default CommunityRecipeItem;\nvar _c;\n$RefreshReg$(_c, \"CommunityRecipeItem\");","map":{"version":3,"names":["React","useState","useEffect","useRef","io","Star","StarHalf","StarRatingDisplay","StarRatingInput","jsxDEV","_jsxDEV","Fragment","_Fragment","CommunityRecipeItem","recipe","_s","comments","setComments","ratings","setRatings","averageRating","setAverageRating","totalRatings","setTotalRatings","showComments","setShowComments","newComment","setNewComment","userRating","setUserRating","userId","localStorage","getItem","generateUserId","username","setUsername","showUserPrompt","setShowUserPrompt","socketRef","isConnected","setIsConnected","newId","Math","random","toString","substring","setItem","newSocket","window","location","origin","reconnection","reconnectionAttempts","reconnectionDelay","timeout","on","console","log","emit","recipeId","id","data","prevComments","prevRatings","rating","err","error","message","current","disconnect","handleSetUsername","e","preventDefault","trim","length","handleAddComment","connected","alert","text","timestamp","Date","toISOString","handleAddRating","formatDate","dateString","date","toLocaleString","renderStars","className","style","display","alignItems","gap","children","map","star","floor","size","fill","color","minWidth","fileName","_jsxFileName","lineNumber","columnNumber","ceil","onSubmit","type","value","onChange","target","placeholder","required","title","src","image","alt","margin","fontSize","marginLeft","fontStyle","marginTop","marginBottom","usedIngredientCount","missedIngredientCount","href","rel","onClick","disabled","comment","index","_c","$RefreshReg$"],"sources":["C:/Users/DELL/OneDrive/Desktop/MS USA/IIT Chicago/Build Fellowship Project 1 Real time feature/a-cookbook/client/src/CommunityRecipeItem.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport io from 'socket.io-client';\r\nimport { Star, StarHalf } from 'lucide-react';\r\nimport { StarRatingDisplay, StarRatingInput } from './StarRating';\r\n\r\nconst CommunityRecipeItem = ({ recipe }) => {\r\n  const [comments, setComments] = useState([]);\r\n  const [ratings, setRatings] = useState([]);\r\n  const [averageRating, setAverageRating] = useState(0);\r\n  const [totalRatings, setTotalRatings] = useState(0);\r\n  const [showComments, setShowComments] = useState(false);\r\n  const [newComment, setNewComment] = useState('');\r\n  const [userRating, setUserRating] = useState(0);\r\n  const [userId] = useState(localStorage.getItem('userId') || generateUserId());\r\n  const [username, setUsername] = useState(localStorage.getItem('username') || '');\r\n  const [showUserPrompt, setShowUserPrompt] = useState(!localStorage.getItem('username'));\r\n  \r\n  // Using useRef for socket\r\n  const socketRef = useRef(null);\r\n  const [isConnected, setIsConnected] = useState(false);\r\n\r\n  // Generate a simple user ID if not exists\r\n  function generateUserId() {\r\n    const newId = Math.random().toString(36).substring(2, 15);\r\n    localStorage.setItem('userId', newId);\r\n    return newId;\r\n  }\r\n\r\n  // Connect to WebSocket when component mounts\r\n  useEffect(() => {\r\n    if (showUserPrompt || !username) return;\r\n\r\n    // Store username for future sessions\r\n    localStorage.setItem('username', username);\r\n\r\n    // Connect to socket.io server\r\n    const newSocket = io(window.location.origin, {\r\n      reconnection: true,\r\n      reconnectionAttempts: 5,\r\n      reconnectionDelay: 1000,\r\n      timeout: 20000\r\n    });\r\n\r\n    // for testing purposes on localhost\r\n    // const newSocket = io('http://localhost:5000', {\r\n    //   reconnection: true,\r\n    //   reconnectionAttempts: 5,\r\n    //   reconnectionDelay: 1000,\r\n    //   timeout: 20000\r\n    // });\r\n\r\n    newSocket.on('connect', () => {\r\n      console.log('Socket connected for recipe community features');\r\n      setIsConnected(true); // Mark socket as connected\r\n      // Join the recipe room\r\n      newSocket.emit('join-recipe', {\r\n        recipeId: recipe.id,\r\n        userId,\r\n        username\r\n      });\r\n    });\r\n\r\n    newSocket.on('recipe-data', (data) => {\r\n      console.log('Received recipe community data:', data);\r\n      setComments(data.comments || []);\r\n      setRatings(data.ratings || []);\r\n      setAverageRating(data.averageRating || 0);\r\n      setTotalRatings(data.totalRatings || 0);\r\n    });\r\n\r\n    newSocket.on('comment-added', (newComment) => {\r\n      console.log('New comment received:', newComment);\r\n      setComments((prevComments) => [newComment, ...prevComments]);\r\n    });\r\n\r\n    newSocket.on('rating-updated', (data) => {\r\n      setRatings((prevRatings) => [data.rating, ...prevRatings]);\r\n      setAverageRating(data.averageRating);\r\n      setTotalRatings(data.totalRatings);\r\n    });\r\n\r\n    newSocket.on('connect_error', (err) => {\r\n      console.error('Socket connection error:', err.message);\r\n    });\r\n\r\n    // Save socket in ref to avoid re-render\r\n    socketRef.current = newSocket;\r\n\r\n    // Clean up on unmount\r\n    return () => {\r\n      if (newSocket) {\r\n        newSocket.disconnect();\r\n        setIsConnected(false); // Mark socket as disconnected\r\n      }\r\n    };\r\n  }, [recipe.id, userId, username, showUserPrompt]);\r\n\r\n  // Handle setting username\r\n  const handleSetUsername = (e) => {\r\n    e.preventDefault();\r\n    if (username.trim().length > 0) {\r\n      setShowUserPrompt(false);\r\n      localStorage.setItem('username', username);\r\n    }\r\n  };\r\n\r\n  // Handle submitting a comment\r\n  const handleAddComment = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!newComment.trim()) return;\r\n    \r\n    // Debugging connection state\r\n    console.log('Socket connection status:', socketRef.current ? socketRef.current.connected : 'No socket');\r\n\r\n    if (!socketRef.current || !socketRef.current.connected) {\r\n      console.error('Socket connection not found. Comment not sent.');\r\n      alert('Socket connection not found. Please try again later.');\r\n      return;\r\n    }\r\n\r\n    console.log('Sending comment:', newComment);\r\n    \r\n    socketRef.current.emit('add-comment', {\r\n      recipeId: recipe.id,\r\n      userId,\r\n      username,\r\n      text: newComment,\r\n      timestamp: new Date().toISOString()\r\n    });\r\n\r\n    setNewComment('');\r\n  };\r\n\r\n  // Handle submitting a rating\r\n  const handleAddRating = (rating) => {\r\n    if (!socketRef.current || !socketRef.current.connected) return;\r\n    \r\n    setUserRating(rating);\r\n    socketRef.current.emit('add-rating', {\r\n      recipeId: recipe.id,\r\n      userId,\r\n      username,\r\n      rating,\r\n      timestamp: new Date().toISOString()\r\n    });\r\n  };\r\n\r\n  // Format date\r\n  const formatDate = (dateString) => {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleString();\r\n  };\r\n\r\n  // Render stars based on rating\r\n  // const renderStars = (rating) => {\r\n  //   const stars = [];\r\n  //   const fullStars = Math.floor(rating);\r\n  //   const hasHalfStar = rating % 1 >= 0.5;\r\n    \r\n  //   for (let i = 0; i < fullStars; i++) {\r\n  //     stars.push(\r\n  //       <Star \r\n  //         key={`full-${i}`} \r\n  //         className=\"text-yellow-500\" \r\n  //         fill=\"#EAB308\" \r\n  //         size={16}\r\n  //       />\r\n  //     );\r\n  //   }\r\n    \r\n  //   if (hasHalfStar) {\r\n  //     stars.push(\r\n  //       <StarHalf \r\n  //         key=\"half\" \r\n  //         className=\"text-yellow-500\" \r\n  //         fill=\"#EAB308\" \r\n  //         size={16}\r\n  //       />\r\n  //     );\r\n  //   }\r\n    \r\n  //   return <div className=\"recipe-stars\">{stars}</div>;\r\n  // };\r\n\r\n  const renderStars = (rating) => {\r\n    return (\r\n      <div className=\"recipe-stars\" style={{ display: 'flex', alignItems: 'center', gap: '2px' }}>\r\n        {[1, 2, 3, 4, 5].map((star) => {\r\n          // Full star\r\n          if (star <= Math.floor(rating)) {\r\n            return (\r\n              <Star \r\n                key={`star-${star}`} \r\n                size={16} \r\n                fill=\"#EAB308\" \r\n                color=\"#EAB308\" \r\n                style={{ display: 'block', minWidth: '16px' }}\r\n              />\r\n            );\r\n          }\r\n          // Half star\r\n          else if (star === Math.ceil(rating) && rating % 1 >= 0.5) {\r\n            return (\r\n              <StarHalf \r\n                key={`star-${star}`} \r\n                size={16} \r\n                fill=\"#EAB308\" \r\n                color=\"#EAB308\" \r\n                style={{ display: 'block', minWidth: '16px' }}\r\n              />\r\n            );\r\n          }\r\n          // Empty star\r\n          else {\r\n            return (\r\n              <Star \r\n                key={`star-${star}`} \r\n                size={16} \r\n                fill=\"none\" \r\n                color=\"#cccccc\" \r\n                style={{ display: 'block', minWidth: '16px' }}\r\n              />\r\n            );\r\n          }\r\n        })}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // If username prompt is shown\r\n  if (showUserPrompt) {\r\n    return (\r\n      <div className=\"username-prompt-recipe\">\r\n        <h4>Join the Community</h4>\r\n        <p>Enter your name to rate and comment on recipes</p>\r\n        <form onSubmit={handleSetUsername}>\r\n          <input\r\n            type=\"text\"\r\n            value={username}\r\n            onChange={(e) => setUsername(e.target.value)}\r\n            placeholder=\"Your name\"\r\n            className=\"username-input\"\r\n            required\r\n          />\r\n          <button type=\"submit\" className=\"username-submit-btn\">Join</button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"community-recipe-item\">\r\n      <h3 className=\"recipe-title\">{recipe.title}</h3>\r\n      <img \r\n        src={recipe.image} \r\n        alt={recipe.title} \r\n        className=\"recipe-image\"\r\n      />\r\n      \r\n      {/* Rating section */}\r\n      {/* <div className=\"recipe-rating-section\">\r\n        <div className=\"current-rating\">\r\n          {averageRating > 0 ? (\r\n            <>\r\n              {renderStars(averageRating)}\r\n              <span className=\"rating-number\">{averageRating.toFixed(1)}</span>\r\n              <span className=\"rating-count\">({totalRatings})</span>\r\n            </>\r\n          ) : (\r\n            <span className=\"no-ratings\">No ratings yet</span>\r\n          )}\r\n        </div>\r\n        \r\n        <div className=\"user-rating\">\r\n          <p>Rate this recipe:</p>\r\n          <div className=\"star-rating\">\r\n            {[1, 2, 3, 4, 5].map((star) => (\r\n              <button\r\n                key={star}\r\n                onClick={() => handleAddRating(star)}\r\n                className={`star-btn ${userRating >= star ? 'active' : ''}`}\r\n              >\r\n                <Star \r\n                  fill={userRating >= star ? '#EAB308' : 'none'} \r\n                  color={userRating >= star ? '#EAB308' : '#cccccc'}\r\n                  size={20}\r\n                />\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div> */}\r\n      <div className=\"recipe-rating-section\" style={{ margin: '1rem 0' }}>\r\n  <div className=\"current-rating\" style={{ display: 'flex', alignItems: 'center' }}>\r\n    {averageRating > 0 ? (\r\n      <>\r\n        <StarRatingDisplay rating={averageRating} size={16} />\r\n        <span className=\"rating-count\" style={{ \r\n          fontSize: '0.8rem', \r\n          color: '#666',\r\n          marginLeft: '4px'\r\n        }}>\r\n          ({totalRatings})\r\n        </span>\r\n      </>\r\n    ) : (\r\n      <span className=\"no-ratings\" style={{ \r\n        fontStyle: 'italic', \r\n        color: '#666', \r\n        fontSize: '0.9rem' \r\n      }}>\r\n        No ratings yet\r\n      </span>\r\n    )}\r\n  </div>\r\n  \r\n  <div className=\"user-rating\" style={{ marginTop: '12px' }}>\r\n    <p style={{ \r\n      marginBottom: '8px', \r\n      fontSize: '0.9rem', \r\n      color: '#552b5b' \r\n    }}>\r\n      Rate this recipe:\r\n    </p>\r\n    <StarRatingInput \r\n      value={userRating} \r\n      onChange={handleAddRating} \r\n      size={20}\r\n    />\r\n  </div>\r\n</div>\r\n      \r\n      <ul className=\"recipe-details\">\r\n        <li>Used Ingredients: {recipe.usedIngredientCount}</li>\r\n        <li>Missed Ingredients: {recipe.missedIngredientCount}</li>\r\n        <li className=\"button-container\"> \r\n          <a\r\n            href={`https://spoonacular.com/recipes/${recipe.title}-${recipe.id}`} \r\n            target=\"_blank\" \r\n            rel=\"noopener noreferrer\"\r\n            className=\"recipe-link\"\r\n          > \r\n            View Full Recipe\r\n          </a>\r\n        </li>\r\n      </ul>\r\n      \r\n      {/* Comments section */}\r\n      <div className=\"recipe-comments-section\">\r\n        <button \r\n          className=\"toggle-comments-btn\"\r\n          onClick={() => setShowComments(!showComments)}\r\n        >\r\n          {showComments ? 'Hide Comments' : `Show Comments (${comments.length})`}\r\n        </button>\r\n        \r\n        {showComments && (\r\n          <div className=\"comments-container\">\r\n            <form onSubmit={handleAddComment} className=\"comment-form\">\r\n              <input\r\n                type=\"text\"\r\n                value={newComment}\r\n                onChange={(e) => setNewComment(e.target.value)}\r\n                placeholder=\"Add a comment...\"\r\n                className=\"comment-input\"\r\n              />\r\n              <button \r\n                type=\"submit\" \r\n                className=\"comment-submit-btn\"\r\n                disabled={!newComment.trim()}\r\n              >\r\n                Post\r\n              </button>\r\n            </form>\r\n            \r\n            <div className=\"comments-list\">\r\n              {comments.length > 0 ? (\r\n                comments.map((comment, index) => (\r\n                  <div key={index} className=\"comment-item\">\r\n                    <div className=\"comment-header\">\r\n                      <span className=\"comment-author\">{comment.username}</span>\r\n                      <span className=\"comment-date\">{formatDate(comment.timestamp)}</span>\r\n                    </div>\r\n                    <p className=\"comment-text\">{comment.text}</p>\r\n                  </div>\r\n                ))\r\n              ) : (\r\n                <p className=\"no-comments\">No comments yet. Be the first to comment!</p>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommunityRecipeItem;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAC1D,OAAOC,EAAE,MAAM,kBAAkB;AACjC,SAASC,IAAI,EAAEC,QAAQ,QAAQ,cAAc;AAC7C,SAASC,iBAAiB,EAAEC,eAAe,QAAQ,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAElE,MAAMC,mBAAmB,GAAGA,CAAC;EAAEC;AAAO,CAAC,KAAK;EAAAC,EAAA;EAC1C,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACiB,OAAO,EAAEC,UAAU,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACmB,aAAa,EAAEC,gBAAgB,CAAC,GAAGpB,QAAQ,CAAC,CAAC,CAAC;EACrD,MAAM,CAACqB,YAAY,EAAEC,eAAe,CAAC,GAAGtB,QAAQ,CAAC,CAAC,CAAC;EACnD,MAAM,CAACuB,YAAY,EAAEC,eAAe,CAAC,GAAGxB,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAACyB,UAAU,EAAEC,aAAa,CAAC,GAAG1B,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAAC2B,UAAU,EAAEC,aAAa,CAAC,GAAG5B,QAAQ,CAAC,CAAC,CAAC;EAC/C,MAAM,CAAC6B,MAAM,CAAC,GAAG7B,QAAQ,CAAC8B,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,IAAIC,cAAc,CAAC,CAAC,CAAC;EAC7E,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGlC,QAAQ,CAAC8B,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;EAChF,MAAM,CAACI,cAAc,EAAEC,iBAAiB,CAAC,GAAGpC,QAAQ,CAAC,CAAC8B,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC;;EAEvF;EACA,MAAMM,SAAS,GAAGnC,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAM,CAACoC,WAAW,EAAEC,cAAc,CAAC,GAAGvC,QAAQ,CAAC,KAAK,CAAC;;EAErD;EACA,SAASgC,cAAcA,CAAA,EAAG;IACxB,MAAMQ,KAAK,GAAGC,IAAI,CAACC,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,EAAE,CAAC,CAACC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC;IACzDd,YAAY,CAACe,OAAO,CAAC,QAAQ,EAAEL,KAAK,CAAC;IACrC,OAAOA,KAAK;EACd;;EAEA;EACAvC,SAAS,CAAC,MAAM;IACd,IAAIkC,cAAc,IAAI,CAACF,QAAQ,EAAE;;IAEjC;IACAH,YAAY,CAACe,OAAO,CAAC,UAAU,EAAEZ,QAAQ,CAAC;;IAE1C;IACA,MAAMa,SAAS,GAAG3C,EAAE,CAAC4C,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE;MAC3CC,YAAY,EAAE,IAAI;MAClBC,oBAAoB,EAAE,CAAC;MACvBC,iBAAiB,EAAE,IAAI;MACvBC,OAAO,EAAE;IACX,CAAC,CAAC;;IAEF;IACA;IACA;IACA;IACA;IACA;IACA;;IAEAP,SAAS,CAACQ,EAAE,CAAC,SAAS,EAAE,MAAM;MAC5BC,OAAO,CAACC,GAAG,CAAC,gDAAgD,CAAC;MAC7DjB,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC;MACtB;MACAO,SAAS,CAACW,IAAI,CAAC,aAAa,EAAE;QAC5BC,QAAQ,EAAE7C,MAAM,CAAC8C,EAAE;QACnB9B,MAAM;QACNI;MACF,CAAC,CAAC;IACJ,CAAC,CAAC;IAEFa,SAAS,CAACQ,EAAE,CAAC,aAAa,EAAGM,IAAI,IAAK;MACpCL,OAAO,CAACC,GAAG,CAAC,iCAAiC,EAAEI,IAAI,CAAC;MACpD5C,WAAW,CAAC4C,IAAI,CAAC7C,QAAQ,IAAI,EAAE,CAAC;MAChCG,UAAU,CAAC0C,IAAI,CAAC3C,OAAO,IAAI,EAAE,CAAC;MAC9BG,gBAAgB,CAACwC,IAAI,CAACzC,aAAa,IAAI,CAAC,CAAC;MACzCG,eAAe,CAACsC,IAAI,CAACvC,YAAY,IAAI,CAAC,CAAC;IACzC,CAAC,CAAC;IAEFyB,SAAS,CAACQ,EAAE,CAAC,eAAe,EAAG7B,UAAU,IAAK;MAC5C8B,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAE/B,UAAU,CAAC;MAChDT,WAAW,CAAE6C,YAAY,IAAK,CAACpC,UAAU,EAAE,GAAGoC,YAAY,CAAC,CAAC;IAC9D,CAAC,CAAC;IAEFf,SAAS,CAACQ,EAAE,CAAC,gBAAgB,EAAGM,IAAI,IAAK;MACvC1C,UAAU,CAAE4C,WAAW,IAAK,CAACF,IAAI,CAACG,MAAM,EAAE,GAAGD,WAAW,CAAC,CAAC;MAC1D1C,gBAAgB,CAACwC,IAAI,CAACzC,aAAa,CAAC;MACpCG,eAAe,CAACsC,IAAI,CAACvC,YAAY,CAAC;IACpC,CAAC,CAAC;IAEFyB,SAAS,CAACQ,EAAE,CAAC,eAAe,EAAGU,GAAG,IAAK;MACrCT,OAAO,CAACU,KAAK,CAAC,0BAA0B,EAAED,GAAG,CAACE,OAAO,CAAC;IACxD,CAAC,CAAC;;IAEF;IACA7B,SAAS,CAAC8B,OAAO,GAAGrB,SAAS;;IAE7B;IACA,OAAO,MAAM;MACX,IAAIA,SAAS,EAAE;QACbA,SAAS,CAACsB,UAAU,CAAC,CAAC;QACtB7B,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC;MACzB;IACF,CAAC;EACH,CAAC,EAAE,CAAC1B,MAAM,CAAC8C,EAAE,EAAE9B,MAAM,EAAEI,QAAQ,EAAEE,cAAc,CAAC,CAAC;;EAEjD;EACA,MAAMkC,iBAAiB,GAAIC,CAAC,IAAK;IAC/BA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAItC,QAAQ,CAACuC,IAAI,CAAC,CAAC,CAACC,MAAM,GAAG,CAAC,EAAE;MAC9BrC,iBAAiB,CAAC,KAAK,CAAC;MACxBN,YAAY,CAACe,OAAO,CAAC,UAAU,EAAEZ,QAAQ,CAAC;IAC5C;EACF,CAAC;;EAED;EACA,MAAMyC,gBAAgB,GAAIJ,CAAC,IAAK;IAC9BA,CAAC,CAACC,cAAc,CAAC,CAAC;IAElB,IAAI,CAAC9C,UAAU,CAAC+C,IAAI,CAAC,CAAC,EAAE;;IAExB;IACAjB,OAAO,CAACC,GAAG,CAAC,2BAA2B,EAAEnB,SAAS,CAAC8B,OAAO,GAAG9B,SAAS,CAAC8B,OAAO,CAACQ,SAAS,GAAG,WAAW,CAAC;IAEvG,IAAI,CAACtC,SAAS,CAAC8B,OAAO,IAAI,CAAC9B,SAAS,CAAC8B,OAAO,CAACQ,SAAS,EAAE;MACtDpB,OAAO,CAACU,KAAK,CAAC,gDAAgD,CAAC;MAC/DW,KAAK,CAAC,sDAAsD,CAAC;MAC7D;IACF;IAEArB,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAE/B,UAAU,CAAC;IAE3CY,SAAS,CAAC8B,OAAO,CAACV,IAAI,CAAC,aAAa,EAAE;MACpCC,QAAQ,EAAE7C,MAAM,CAAC8C,EAAE;MACnB9B,MAAM;MACNI,QAAQ;MACR4C,IAAI,EAAEpD,UAAU;MAChBqD,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;IACpC,CAAC,CAAC;IAEFtD,aAAa,CAAC,EAAE,CAAC;EACnB,CAAC;;EAED;EACA,MAAMuD,eAAe,GAAIlB,MAAM,IAAK;IAClC,IAAI,CAAC1B,SAAS,CAAC8B,OAAO,IAAI,CAAC9B,SAAS,CAAC8B,OAAO,CAACQ,SAAS,EAAE;IAExD/C,aAAa,CAACmC,MAAM,CAAC;IACrB1B,SAAS,CAAC8B,OAAO,CAACV,IAAI,CAAC,YAAY,EAAE;MACnCC,QAAQ,EAAE7C,MAAM,CAAC8C,EAAE;MACnB9B,MAAM;MACNI,QAAQ;MACR8B,MAAM;MACNe,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;IACpC,CAAC,CAAC;EACJ,CAAC;;EAED;EACA,MAAME,UAAU,GAAIC,UAAU,IAAK;IACjC,MAAMC,IAAI,GAAG,IAAIL,IAAI,CAACI,UAAU,CAAC;IACjC,OAAOC,IAAI,CAACC,cAAc,CAAC,CAAC;EAC9B,CAAC;;EAED;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;;EAEA,MAAMC,WAAW,GAAIvB,MAAM,IAAK;IAC9B,oBACEtD,OAAA;MAAK8E,SAAS,EAAC,cAAc;MAACC,KAAK,EAAE;QAAEC,OAAO,EAAE,MAAM;QAAEC,UAAU,EAAE,QAAQ;QAAEC,GAAG,EAAE;MAAM,CAAE;MAAAC,QAAA,EACxF,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAACC,GAAG,CAAEC,IAAI,IAAK;QAC7B;QACA,IAAIA,IAAI,IAAIrD,IAAI,CAACsD,KAAK,CAAChC,MAAM,CAAC,EAAE;UAC9B,oBACEtD,OAAA,CAACL,IAAI;YAEH4F,IAAI,EAAE,EAAG;YACTC,IAAI,EAAC,SAAS;YACdC,KAAK,EAAC,SAAS;YACfV,KAAK,EAAE;cAAEC,OAAO,EAAE,OAAO;cAAEU,QAAQ,EAAE;YAAO;UAAE,GAJzC,QAAQL,IAAI,EAAE;YAAAM,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAKpB,CAAC;QAEN;QACA;QAAA,KACK,IAAIT,IAAI,KAAKrD,IAAI,CAAC+D,IAAI,CAACzC,MAAM,CAAC,IAAIA,MAAM,GAAG,CAAC,IAAI,GAAG,EAAE;UACxD,oBACEtD,OAAA,CAACJ,QAAQ;YAEP2F,IAAI,EAAE,EAAG;YACTC,IAAI,EAAC,SAAS;YACdC,KAAK,EAAC,SAAS;YACfV,KAAK,EAAE;cAAEC,OAAO,EAAE,OAAO;cAAEU,QAAQ,EAAE;YAAO;UAAE,GAJzC,QAAQL,IAAI,EAAE;YAAAM,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAKpB,CAAC;QAEN;QACA;QAAA,KACK;UACH,oBACE9F,OAAA,CAACL,IAAI;YAEH4F,IAAI,EAAE,EAAG;YACTC,IAAI,EAAC,MAAM;YACXC,KAAK,EAAC,SAAS;YACfV,KAAK,EAAE;cAAEC,OAAO,EAAE,OAAO;cAAEU,QAAQ,EAAE;YAAO;UAAE,GAJzC,QAAQL,IAAI,EAAE;YAAAM,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAKpB,CAAC;QAEN;MACF,CAAC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC;EAEV,CAAC;;EAED;EACA,IAAIpE,cAAc,EAAE;IAClB,oBACE1B,OAAA;MAAK8E,SAAS,EAAC,wBAAwB;MAAAK,QAAA,gBACrCnF,OAAA;QAAAmF,QAAA,EAAI;MAAkB;QAAAQ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC3B9F,OAAA;QAAAmF,QAAA,EAAG;MAA8C;QAAAQ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,eACrD9F,OAAA;QAAMgG,QAAQ,EAAEpC,iBAAkB;QAAAuB,QAAA,gBAChCnF,OAAA;UACEiG,IAAI,EAAC,MAAM;UACXC,KAAK,EAAE1E,QAAS;UAChB2E,QAAQ,EAAGtC,CAAC,IAAKpC,WAAW,CAACoC,CAAC,CAACuC,MAAM,CAACF,KAAK,CAAE;UAC7CG,WAAW,EAAC,WAAW;UACvBvB,SAAS,EAAC,gBAAgB;UAC1BwB,QAAQ;QAAA;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACT,CAAC,eACF9F,OAAA;UAAQiG,IAAI,EAAC,QAAQ;UAACnB,SAAS,EAAC,qBAAqB;UAAAK,QAAA,EAAC;QAAI;UAAAQ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC/D,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ,CAAC;EAEV;EAEA,oBACE9F,OAAA;IAAK8E,SAAS,EAAC,uBAAuB;IAAAK,QAAA,gBACpCnF,OAAA;MAAI8E,SAAS,EAAC,cAAc;MAAAK,QAAA,EAAE/E,MAAM,CAACmG;IAAK;MAAAZ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eAChD9F,OAAA;MACEwG,GAAG,EAAEpG,MAAM,CAACqG,KAAM;MAClBC,GAAG,EAAEtG,MAAM,CAACmG,KAAM;MAClBzB,SAAS,EAAC;IAAc;MAAAa,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzB,CAAC,eAmCF9F,OAAA;MAAK8E,SAAS,EAAC,uBAAuB;MAACC,KAAK,EAAE;QAAE4B,MAAM,EAAE;MAAS,CAAE;MAAAxB,QAAA,gBACvEnF,OAAA;QAAK8E,SAAS,EAAC,gBAAgB;QAACC,KAAK,EAAE;UAAEC,OAAO,EAAE,MAAM;UAAEC,UAAU,EAAE;QAAS,CAAE;QAAAE,QAAA,EAC9EzE,aAAa,GAAG,CAAC,gBAChBV,OAAA,CAAAE,SAAA;UAAAiF,QAAA,gBACEnF,OAAA,CAACH,iBAAiB;YAACyD,MAAM,EAAE5C,aAAc;YAAC6E,IAAI,EAAE;UAAG;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACtD9F,OAAA;YAAM8E,SAAS,EAAC,cAAc;YAACC,KAAK,EAAE;cACpC6B,QAAQ,EAAE,QAAQ;cAClBnB,KAAK,EAAE,MAAM;cACboB,UAAU,EAAE;YACd,CAAE;YAAA1B,QAAA,GAAC,GACA,EAACvE,YAAY,EAAC,GACjB;UAAA;YAAA+E,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA,eACP,CAAC,gBAEH9F,OAAA;UAAM8E,SAAS,EAAC,YAAY;UAACC,KAAK,EAAE;YAClC+B,SAAS,EAAE,QAAQ;YACnBrB,KAAK,EAAE,MAAM;YACbmB,QAAQ,EAAE;UACZ,CAAE;UAAAzB,QAAA,EAAC;QAEH;UAAAQ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM;MACP;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eAEN9F,OAAA;QAAK8E,SAAS,EAAC,aAAa;QAACC,KAAK,EAAE;UAAEgC,SAAS,EAAE;QAAO,CAAE;QAAA5B,QAAA,gBACxDnF,OAAA;UAAG+E,KAAK,EAAE;YACRiC,YAAY,EAAE,KAAK;YACnBJ,QAAQ,EAAE,QAAQ;YAClBnB,KAAK,EAAE;UACT,CAAE;UAAAN,QAAA,EAAC;QAEH;UAAAQ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eACJ9F,OAAA,CAACF,eAAe;UACdoG,KAAK,EAAEhF,UAAW;UAClBiF,QAAQ,EAAE3B,eAAgB;UAC1Be,IAAI,EAAE;QAAG;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACV,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAEA9F,OAAA;MAAI8E,SAAS,EAAC,gBAAgB;MAAAK,QAAA,gBAC5BnF,OAAA;QAAAmF,QAAA,GAAI,oBAAkB,EAAC/E,MAAM,CAAC6G,mBAAmB;MAAA;QAAAtB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACvD9F,OAAA;QAAAmF,QAAA,GAAI,sBAAoB,EAAC/E,MAAM,CAAC8G,qBAAqB;MAAA;QAAAvB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAC3D9F,OAAA;QAAI8E,SAAS,EAAC,kBAAkB;QAAAK,QAAA,eAC9BnF,OAAA;UACEmH,IAAI,EAAE,mCAAmC/G,MAAM,CAACmG,KAAK,IAAInG,MAAM,CAAC8C,EAAE,EAAG;UACrEkD,MAAM,EAAC,QAAQ;UACfgB,GAAG,EAAC,qBAAqB;UACzBtC,SAAS,EAAC,aAAa;UAAAK,QAAA,EACxB;QAED;UAAAQ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGL9F,OAAA;MAAK8E,SAAS,EAAC,yBAAyB;MAAAK,QAAA,gBACtCnF,OAAA;QACE8E,SAAS,EAAC,qBAAqB;QAC/BuC,OAAO,EAAEA,CAAA,KAAMtG,eAAe,CAAC,CAACD,YAAY,CAAE;QAAAqE,QAAA,EAE7CrE,YAAY,GAAG,eAAe,GAAG,kBAAkBR,QAAQ,CAAC0D,MAAM;MAAG;QAAA2B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChE,CAAC,EAERhF,YAAY,iBACXd,OAAA;QAAK8E,SAAS,EAAC,oBAAoB;QAAAK,QAAA,gBACjCnF,OAAA;UAAMgG,QAAQ,EAAE/B,gBAAiB;UAACa,SAAS,EAAC,cAAc;UAAAK,QAAA,gBACxDnF,OAAA;YACEiG,IAAI,EAAC,MAAM;YACXC,KAAK,EAAElF,UAAW;YAClBmF,QAAQ,EAAGtC,CAAC,IAAK5C,aAAa,CAAC4C,CAAC,CAACuC,MAAM,CAACF,KAAK,CAAE;YAC/CG,WAAW,EAAC,kBAAkB;YAC9BvB,SAAS,EAAC;UAAe;YAAAa,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC1B,CAAC,eACF9F,OAAA;YACEiG,IAAI,EAAC,QAAQ;YACbnB,SAAS,EAAC,oBAAoB;YAC9BwC,QAAQ,EAAE,CAACtG,UAAU,CAAC+C,IAAI,CAAC,CAAE;YAAAoB,QAAA,EAC9B;UAED;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC,eAEP9F,OAAA;UAAK8E,SAAS,EAAC,eAAe;UAAAK,QAAA,EAC3B7E,QAAQ,CAAC0D,MAAM,GAAG,CAAC,GAClB1D,QAAQ,CAAC8E,GAAG,CAAC,CAACmC,OAAO,EAAEC,KAAK,kBAC1BxH,OAAA;YAAiB8E,SAAS,EAAC,cAAc;YAAAK,QAAA,gBACvCnF,OAAA;cAAK8E,SAAS,EAAC,gBAAgB;cAAAK,QAAA,gBAC7BnF,OAAA;gBAAM8E,SAAS,EAAC,gBAAgB;gBAAAK,QAAA,EAAEoC,OAAO,CAAC/F;cAAQ;gBAAAmE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eAC1D9F,OAAA;gBAAM8E,SAAS,EAAC,cAAc;gBAAAK,QAAA,EAAEV,UAAU,CAAC8C,OAAO,CAAClD,SAAS;cAAC;gBAAAsB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAClE,CAAC,eACN9F,OAAA;cAAG8E,SAAS,EAAC,cAAc;cAAAK,QAAA,EAAEoC,OAAO,CAACnD;YAAI;cAAAuB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA,GALtC0B,KAAK;YAAA7B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAMV,CACN,CAAC,gBAEF9F,OAAA;YAAG8E,SAAS,EAAC,aAAa;YAAAK,QAAA,EAAC;UAAyC;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG;QACxE;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACzF,EAAA,CAvYIF,mBAAmB;AAAAsH,EAAA,GAAnBtH,mBAAmB;AAyYzB,eAAeA,mBAAmB;AAAC,IAAAsH,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}