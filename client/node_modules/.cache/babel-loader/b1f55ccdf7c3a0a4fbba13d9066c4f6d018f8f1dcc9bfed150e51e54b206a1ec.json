{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\OneDrive\\\\Desktop\\\\MS USA\\\\IIT Chicago\\\\Build Fellowship Project 1 Real time feature\\\\a-cookbook\\\\client\\\\src\\\\ingredient.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\nimport Navbar from './Navbar';\nimport MealList from \"./MealList\";\nimport axios from 'axios';\n// import RecipeList from './reciepe';\nimport EnhancedRecipeList from './EnhancedRecipeList';\nimport CalorieSearch from './CalorieSearch';\nimport { saveRecipes, getStoredRecipes } from './indexedDB'; // #offline\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Ingredient() {\n  _s();\n  const [ingredients, setIngredients] = useState('');\n  const [recipes, setRecipes] = useState([]);\n  const fetchRecipes = async () => {\n    const API_KEY = process.env.REACT_APP_API;\n    const BASE_URL = 'https://api.spoonacular.com/recipes/findByIngredients';\n    try {\n      const response = await axios.get(BASE_URL, {\n        params: {\n          apiKey: API_KEY,\n          ingredients: ingredients,\n          number: 3 // Number of recipes to fetch\n        }\n      });\n      setRecipes(response.data);\n    } catch (error) {\n      console.error('Error fetching recipes:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-title\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"main-title\",\n        children: \"Heaven Of Spices\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"A CookBook : Heaven Of Spices helps you cook the perfect dish. You can easily search the perfect combination of ingredients to make your desired dish. It\\u2019s the best place to find new recipes and cook delicious food.  \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"What's in your fridge?\",\n        value: ingredients,\n        onChange: e => setIngredients(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: fetchRecipes,\n        children: \"Find Recipes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"recipe-data\",\n        children: /*#__PURE__*/_jsxDEV(EnhancedRecipeList, {\n          recipeData: recipes\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 11\n  }, this);\n}\n_s(Ingredient, \"pZbyDrdPpumVMNR/PIi3M0qo4PQ=\");\n_c = Ingredient;\nexport default Ingredient;\n\n// #offline - Fetch recipes from IndexedDB if offline\nasync function fetchRecipes(query) {\n  try {\n    const isOnline = navigator.onLine;\n    if (isOnline) {\n      const response = await axios.get('/api/recipes/summary');\n      const recipes = response.data;\n      await saveRecipes(recipes); // #offline - Save for offline use\n      return recipes.filter(r => r.title.toLowerCase().includes(query.toLowerCase()));\n    } else {\n      console.warn('Offline. Fetching recipes from IndexedDB.');\n      const offlineData = await getStoredRecipes();\n      return offlineData.filter(r => r.title.toLowerCase().includes(query.toLowerCase()));\n    }\n  } catch (err) {\n    console.error('Error fetching recipes:', err);\n    return [];\n  }\n}\nvar _c;\n$RefreshReg$(_c, \"Ingredient\");","map":{"version":3,"names":["React","useState","BrowserRouter","Router","Routes","Route","Navbar","MealList","axios","EnhancedRecipeList","CalorieSearch","saveRecipes","getStoredRecipes","jsxDEV","_jsxDEV","Ingredient","_s","ingredients","setIngredients","recipes","setRecipes","fetchRecipes","API_KEY","process","env","REACT_APP_API","BASE_URL","response","get","params","apiKey","number","data","error","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","onClick","recipeData","_c","query","isOnline","navigator","onLine","filter","r","title","toLowerCase","includes","warn","offlineData","err","$RefreshReg$"],"sources":["C:/Users/DELL/OneDrive/Desktop/MS USA/IIT Chicago/Build Fellowship Project 1 Real time feature/a-cookbook/client/src/ingredient.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\r\nimport Navbar from './Navbar';\r\nimport MealList from \"./MealList\";\r\nimport axios from 'axios';\r\n// import RecipeList from './reciepe';\r\nimport EnhancedRecipeList from './EnhancedRecipeList';\r\nimport CalorieSearch from './CalorieSearch';\r\nimport { saveRecipes, getStoredRecipes } from './indexedDB'; // #offline\r\n\r\n\r\n\r\nfunction Ingredient() {\r\n  const [ingredients, setIngredients] = useState('');\r\n  const [recipes, setRecipes] = useState([]);\r\n\r\nconst fetchRecipes = async () => {\r\n  const API_KEY = process.env.REACT_APP_API;\r\n  const BASE_URL = 'https://api.spoonacular.com/recipes/findByIngredients';\r\n\r\n  try {\r\n    const response = await axios.get(BASE_URL, {\r\n      params: {\r\n        apiKey: API_KEY,\r\n        ingredients: ingredients,\r\n        number: 3, // Number of recipes to fetch\r\n      },\r\n    });\r\n    setRecipes(response.data);\r\n  } catch (error) {\r\n    console.error('Error fetching recipes:', error);\r\n  }\r\n};\r\n\r\n  return (\r\n          <div className=\"App\">\r\n            <div className='container-title'>\r\n                <h1 className='main-title'>Heaven Of Spices</h1>\r\n                <p>A CookBook : Heaven Of Spices helps you cook the perfect dish. You can easily search the perfect combination of ingredients to make your desired dish. Itâ€™s the\r\n                best place to find new recipes and cook delicious food.  </p>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"What's in your fridge?\"\r\n                  value={ingredients}\r\n                  onChange={(e) => setIngredients(e.target.value)}\r\n                />\r\n                <button onClick={fetchRecipes}>Find Recipes</button>\r\n                <div className='recipe-data'>\r\n                {/* <RecipeList recipeData={recipes} /> */}\r\n                <EnhancedRecipeList recipeData={recipes} />\r\n                </div>\r\n            </div> \r\n          </div>\r\n  );\r\n} \r\n\r\nexport default Ingredient;\r\n\r\n// #offline - Fetch recipes from IndexedDB if offline\r\nasync function fetchRecipes(query) {\r\n  try {\r\n    const isOnline = navigator.onLine;\r\n    if (isOnline) {\r\n      const response = await axios.get('/api/recipes/summary');\r\n      const recipes = response.data;\r\n      await saveRecipes(recipes); // #offline - Save for offline use\r\n      return recipes.filter(r => r.title.toLowerCase().includes(query.toLowerCase()));\r\n    } else {\r\n      console.warn('Offline. Fetching recipes from IndexedDB.');\r\n      const offlineData = await getStoredRecipes();\r\n      return offlineData.filter(r => r.title.toLowerCase().includes(query.toLowerCase()));\r\n    }\r\n  } catch (err) {\r\n    console.error('Error fetching recipes:', err);\r\n    return [];\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}