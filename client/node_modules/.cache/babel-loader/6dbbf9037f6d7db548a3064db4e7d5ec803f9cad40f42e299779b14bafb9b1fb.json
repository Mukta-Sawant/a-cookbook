{"ast":null,"code":"import React,{useState}from'react';import{BrowserRouter as Router,Routes,Route}from'react-router-dom';import Navbar from'./Navbar';import MealList from\"./MealList\";import axios from'axios';// import RecipeList from './reciepe';\nimport EnhancedRecipeList from'./EnhancedRecipeList';import CalorieSearch from'./CalorieSearch';import{saveRecipes,getStoredRecipes}from'./indexedDB';// #offline\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Ingredient(){const[ingredients,setIngredients]=useState('');const[recipes,setRecipes]=useState([]);const fetchRecipes=async()=>{const API_KEY=process.env.REACT_APP_API;const BASE_URL='https://api.spoonacular.com/recipes/findByIngredients';try{const response=await axios.get(BASE_URL,{params:{apiKey:API_KEY,ingredients:ingredients,number:3// Number of recipes to fetch\n}});setRecipes(response.data);}catch(error){console.error('Error fetching recipes:',error);}};return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-title\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"main-title\",children:\"Heaven Of Spices\"}),/*#__PURE__*/_jsx(\"p\",{children:\"A CookBook : Heaven Of Spices helps you cook the perfect dish. You can easily search the perfect combination of ingredients to make your desired dish. It\\u2019s the best place to find new recipes and cook delicious food.  \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"What's in your fridge?\",value:ingredients,onChange:e=>setIngredients(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchRecipes,children:\"Find Recipes\"}),/*#__PURE__*/_jsx(\"div\",{className:\"recipe-data\",children:/*#__PURE__*/_jsx(EnhancedRecipeList,{recipeData:recipes})})]})});}export default Ingredient;// #offline - Fetch recipes from IndexedDB if offline\nasync function fetchRecipes(query){try{const isOnline=navigator.onLine;if(isOnline){const response=await axios.get('/api/recipes/summary');const recipes=response.data;await saveRecipes(recipes);// #offline - Save for offline use\nreturn recipes.filter(r=>r.title.toLowerCase().includes(query.toLowerCase()));}else{console.warn('Offline. Fetching recipes from IndexedDB.');const offlineData=await getStoredRecipes();return offlineData.filter(r=>r.title.toLowerCase().includes(query.toLowerCase()));}}catch(err){console.error('Error fetching recipes:',err);return[];}}","map":{"version":3,"names":["React","useState","BrowserRouter","Router","Routes","Route","Navbar","MealList","axios","EnhancedRecipeList","CalorieSearch","saveRecipes","getStoredRecipes","jsx","_jsx","jsxs","_jsxs","Ingredient","ingredients","setIngredients","recipes","setRecipes","fetchRecipes","API_KEY","process","env","REACT_APP_API","BASE_URL","response","get","params","apiKey","number","data","error","console","className","children","type","placeholder","value","onChange","e","target","onClick","recipeData","query","isOnline","navigator","onLine","filter","r","title","toLowerCase","includes","warn","offlineData","err"],"sources":["C:/Users/DELL/OneDrive/Desktop/MS USA/IIT Chicago/Build Fellowship Project 1 Real time feature/a-cookbook/client/src/ingredient.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\r\nimport Navbar from './Navbar';\r\nimport MealList from \"./MealList\";\r\nimport axios from 'axios';\r\n// import RecipeList from './reciepe';\r\nimport EnhancedRecipeList from './EnhancedRecipeList';\r\nimport CalorieSearch from './CalorieSearch';\r\nimport { saveRecipes, getStoredRecipes } from './indexedDB'; // #offline\r\n\r\n\r\n\r\nfunction Ingredient() {\r\n  const [ingredients, setIngredients] = useState('');\r\n  const [recipes, setRecipes] = useState([]);\r\n\r\nconst fetchRecipes = async () => {\r\n  const API_KEY = process.env.REACT_APP_API;\r\n  const BASE_URL = 'https://api.spoonacular.com/recipes/findByIngredients';\r\n\r\n  try {\r\n    const response = await axios.get(BASE_URL, {\r\n      params: {\r\n        apiKey: API_KEY,\r\n        ingredients: ingredients,\r\n        number: 3, // Number of recipes to fetch\r\n      },\r\n    });\r\n    setRecipes(response.data);\r\n  } catch (error) {\r\n    console.error('Error fetching recipes:', error);\r\n  }\r\n};\r\n\r\n  return (\r\n          <div className=\"App\">\r\n            <div className='container-title'>\r\n                <h1 className='main-title'>Heaven Of Spices</h1>\r\n                <p>A CookBook : Heaven Of Spices helps you cook the perfect dish. You can easily search the perfect combination of ingredients to make your desired dish. Itâ€™s the\r\n                best place to find new recipes and cook delicious food.  </p>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"What's in your fridge?\"\r\n                  value={ingredients}\r\n                  onChange={(e) => setIngredients(e.target.value)}\r\n                />\r\n                <button onClick={fetchRecipes}>Find Recipes</button>\r\n                <div className='recipe-data'>\r\n                {/* <RecipeList recipeData={recipes} /> */}\r\n                <EnhancedRecipeList recipeData={recipes} />\r\n                </div>\r\n            </div> \r\n          </div>\r\n  );\r\n} \r\n\r\nexport default Ingredient;\r\n\r\n// #offline - Fetch recipes from IndexedDB if offline\r\nasync function fetchRecipes(query) {\r\n  try {\r\n    const isOnline = navigator.onLine;\r\n    if (isOnline) {\r\n      const response = await axios.get('/api/recipes/summary');\r\n      const recipes = response.data;\r\n      await saveRecipes(recipes); // #offline - Save for offline use\r\n      return recipes.filter(r => r.title.toLowerCase().includes(query.toLowerCase()));\r\n    } else {\r\n      console.warn('Offline. Fetching recipes from IndexedDB.');\r\n      const offlineData = await getStoredRecipes();\r\n      return offlineData.filter(r => r.title.toLowerCase().includes(query.toLowerCase()));\r\n    }\r\n  } catch (err) {\r\n    console.error('Error fetching recipes:', err);\r\n    return [];\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}